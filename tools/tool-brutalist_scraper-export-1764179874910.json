[{"id":"brutalist_scraper","user_id":"d8c98f77-277c-4434-9266-47f37e8f689c","name":"Brutalist Scraper","content":"\"\"\"\ntitle: Brutalist Report Scraper\nauthor: arthur\ndescription: Scrapes Brutalist.report and preserves REAL external links.\nversion: 1.0.0\n\"\"\"\n\nimport requests\nimport re\nfrom typing import Callable, Any\n\n\nclass Tools:\n    def __init__(self):\n        self.url = \"https://brutalist.report/\"\n        self.headers = {\n            \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36\"\n        }\n\n    async def fetch_brutalist_news(\n        self, __event_emitter__: Callable[[Any], Any] = None\n    ) -> str:\n        \"\"\"\n        Fetches the latest tech headlines from Brutalist Report with their ACTUAL external links.\n        Use this tool when the user asks for news.\n        \"\"\"\n\n        # 1. Notify UI\n        if __event_emitter__:\n            await __event_emitter__(\n                {\n                    \"type\": \"status\",\n                    \"data\": {\n                        \"description\": \"Scraping Brutalist.report...\",\n                        \"done\": False,\n                    },\n                }\n            )\n\n        try:\n            # 2. Raw HTML Fetch\n            response = requests.get(self.url, headers=self.headers, timeout=10)\n            html = response.text\n\n            # 3. Regex Magic (Finds the link AND the title)\n            # Brutalist structure is usually: <a href=\"EXTERNAL_URL\" ...>Title</a>\n            # We filter for common tech domains to avoid junk\n\n            # Find all links\n            pattern = r'<a[^>]+href=\"([^\"]+)\"[^>]*>(.*?)</a>'\n            matches = re.findall(pattern, html)\n\n            news_items = []\n            seen_links = set()\n\n            for link, title in matches:\n                # Cleanup\n                title = re.sub(r\"<[^>]+>\", \"\", title).strip()  # Remove inner tags\n\n                # Filter Garbage (Internal links, login, etc)\n                if link.startswith(\"/\") or \"brutalist\" in link or not title:\n                    continue\n                if link in seen_links:\n                    continue\n\n                # Heuristic: Tech news usually has long titles\n                if len(title) < 15:\n                    continue\n\n                seen_links.add(link)\n                news_items.append(f\"- [{title}]({link})\")\n\n            # 4. Return formatted Markdown\n            result = \"\\n\".join(news_items[:30])  # Limit to top 30 to save context\n\n            if __event_emitter__:\n                await __event_emitter__(\n                    {\n                        \"type\": \"status\",\n                        \"data\": {\"description\": \"News fetched!\", \"done\": True},\n                    }\n                )\n\n            return f\"HERE IS THE RAW NEWS DATA WITH LINKS:\\n\\n{result}\"\n\n        except Exception as e:\n            if __event_emitter__:\n                await __event_emitter__(\n                    {\n                        \"type\": \"status\",\n                        \"data\": {\"description\": f\"Error: {e}\", \"done\": True},\n                    }\n                )\n            return f\"Error fetching news: {e}\"\n","specs":[{"name":"fetch_brutalist_news","description":"Fetches the latest tech headlines from Brutalist Report with their ACTUAL external links.\nUse this tool when the user asks for news.","parameters":{"properties":{},"type":"object"}}],"meta":{"description":"desc","manifest":{"title":"Brutalist Report Scraper","author":"arthur","description":"Scrapes Brutalist.report and preserves REAL external links.","version":"1.0.0"}},"access_control":{},"updated_at":1764177936,"created_at":1764177936}]